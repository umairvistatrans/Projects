<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Shop page left categories sidebar -->
    <template id="shop_customized_layout" name="shop customized layout"
              inherit_id="website_sale.products">
        <xpath expr="//aside[@id=('products_grid_before')]" position="replace">
            <aside t-if="hasLeftColumn" id="products_grid_before"
                   class="d-none d-lg-block position-sticky col-3 px-3 clearfix">
                <div
                        class="d-flex justify-content-center product-side-filter">
                    <div class="card shadow-lg flex-grow-1 w-100 shop-cat-sidebar-card-custom">
                        <div
                                class="card-body d-none d-lg-flex flex-column justify-content-between">
                            <div class="product-header fw-bolder">
                                <strong>PRODUCT CATEGORY</strong>
                            </div>
                            <hr/>
                            <ul class="list-group product-cat">
                                <t t-set="selected_ids_str"
                                   t-value="request.env['ir.config_parameter'].sudo().get_param('oe_login_signup.product_category_ids')"/>
                                <t t-set="selected_ids_list"
                                   t-value="selected_ids_str.split(',') if selected_ids_str else []"/>
                                <t t-set="selected_ids_int" t-value="[]"/>

                                <t t-foreach="selected_ids_list" t-as="id">
                                    <t t-if="id.isdigit()">
                                        <t t-set="selected_ids_int" t-value="selected_ids_int + [int(id)]"/>
                                    </t>
                                </t>

                                <t t-foreach="categories" t-as="c">
                                    <t t-if="c.id in selected_ids_int">
                                        <li class="list-group-item mb-3 border-none"
                                            t-att-data-link-href="keep('/shop/category/' + slug(c), category=0)">
                                            <a t-att-data-link-href="keep('/shop/category/' + slug(c), category=0)">
                                                <t t-if="c.icon">
                                                    <span class="img">
                                                        <i t-att-class="c.icon"/>
                                                    </span>
                                                </t>
                                                <span class="nav_selected_button_text" t-field="c.name"/>
                                            </a>
                                        </li>
                                    </t>
                                </t>
                            </ul>
                            <div class="product-header fw-bolder">
                                <strong>LATEST PRODUCTS</strong>
                            </div>
                            <hr/>
                            <ul class="latest-product-ul">
                                <li class="mb-4 border-none">
                                    <a href="javascript:void(0);">
                                        <div class="latest-product-outer-div">
                                            <div class="img-div">
                                                <img
                                                        src="https://www.7md.ae/storage/media/X9hodNaNKMp5j43a7bbSW9BDz9oxhNkMcu31z60l.png"
                                                        alt="card-img-top" class=""/>
                                            </div>
                                            <div class="details-div">
                                                <div class="products-name">
                                                    Porodo 3in1 Ice Maker With
                                                </div>
                                                <div class="ratings-div">
                                                    <div
                                                            class="small-ratings justify-content-center">
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star"></i>
                                                    </div>
                                                </div>
                                                <div class="price-div">
                                                    AED 990.00
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="mb-4 border-none">
                                    <a href="javascript:void(0);">
                                        <div class="latest-product-outer-div">
                                            <div class="img-div">
                                                <img
                                                        src="https://www.7md.ae/storage/media/X9hodNaNKMp5j43a7bbSW9BDz9oxhNkMcu31z60l.png"
                                                        alt="card-img-top" class=""/>
                                            </div>
                                            <div class="details-div">
                                                <div class="products-name">
                                                    Porodo 3in1 Ice Maker With
                                                </div>
                                                <div class="ratings-div">
                                                    <div
                                                            class="small-ratings justify-content-center">
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star"></i>
                                                    </div>
                                                </div>
                                                <div class="price-div">
                                                    AED 990.00
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="mb-4 border-none">
                                    <a href="javascript:void(0);">
                                        <div class="latest-product-outer-div">
                                            <div class="img-div">
                                                <img
                                                        src="https://www.7md.ae/storage/media/X9hodNaNKMp5j43a7bbSW9BDz9oxhNkMcu31z60l.png"
                                                        alt="card-img-top" class=""/>
                                            </div>
                                            <div class="details-div">
                                                <div class="products-name">
                                                    Porodo 3in1 Ice Maker With
                                                </div>
                                                <div class="ratings-div">
                                                    <div
                                                            class="small-ratings justify-content-center">
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star rating-color"></i>
                                                        <i class="fa fa-star"></i>
                                                    </div>
                                                </div>
                                                <div class="price-div">
                                                    AED 990.00
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="btn-group w-100 d-lg-none">
                            <button class="btn py-3 btn-primary btn-lg" type="button"
                                    id="filter-by" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                <img src="/7md_website/static/src/images/filter.svg"/>
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="filter-by">
                                <li>
                                    <a class="dropdown-item" href="#">Top Selling Items</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">Trending Items</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">You May Like</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">Recently Viewed</a>
                                </li>
                            </ul>
                            <button
                                    class="btn py-3 btn-primary w-100 btn-lg text-white dropdown-toggle"
                                    data-bs-toggle="dropdown"
                                    aria-expanded="false">Filter By Categories
                                <span
                                        class="caret"></span>
                            </button>
                            <ul class="dropdown-menu product-cat w-100">
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/noun-home-appliances-4976489.svg"
                                                    class="nav_selected__button_icon"/>
                                        </span>
                                        <span class="nav_selected_button_text">Home
                                            Appliances
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/imac icon.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Electronics</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/Path 46658.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Fashion</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/Path 46660.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Health personal
                                            care
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/Group 15825.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Projectors</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/noun-teddy-bear-1041229.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Kids</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/phone icon.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Cell Phones</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/Path 46669.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Sports</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);">
                                        <span class="img">
                                            <img
                                                    src="/7md_website/static/src/images/noun-games-3323124.svg"
                                                    alt="nav_button_icon"/>
                                        </span>
                                        <span class="nav_button_text">Game consoles</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </aside>

        </xpath>
    </template>
    <template id="filmstrip_categories" name="eCommerce Categories"
              inherit_id="website_sale.filmstrip_categories">
        <xpath expr="//div[hasclass('o_wsale_filmstip_container')]" position="replace">
            <t t-set="selected_ids_str"
               t-value="request.env['ir.config_parameter'].sudo().get_param('oe_login_signup.product_category_ids')"/>
            <t t-set="selected_ids_list"
               t-value="selected_ids_str.split(',') if selected_ids_str else []"/>
            <t t-set="selected_ids_int" t-value="[]"/>

            <t t-foreach="selected_ids_list" t-as="id">
                <t t-if="id.isdigit()">
                    <t t-set="selected_ids_int" t-value="selected_ids_int + [int(id)]"/>
                </t>
            </t>
            <div class="o_wsale_filmstip_wrapper pb-1 mb-2 overflow-auto">
                <ul class="o_wsale_filmstip d-flex align-items-stretch mb-0 list-unstyled overflow-visible">
                    <t t-foreach="entries" t-as="c" t-if="c.image_128 and c.id in selected_ids_int"
                       t-set="atLeastOneImage" t-value="True"/>
                    <t t-if="category.parent_id" t-set="backUrl"
                       t-value="keep('/shop/category/' + slug(category.parent_id), category=0)"/>
                    <t t-else="" t-set="backUrl" t-value="'/shop'"/>

                    <li t-foreach="entries" t-as="c"
                        t-attf-class="d-flex {{'pe-3' if not c_last else ''}}"
                        t-att-data-link-href="keep('/shop/category/' + slug(c), category=0)">
                        <t t-if="c.id in selected_ids_int">
                            <input type="radio" t-attf-name="wsale_categories_top_radios_{{parentCategoryId}}"
                                   class="btn-check pe-none" t-att-id="c.id" t-att-value="c.id"
                                   t-att-checked="'true' if c.id == category.id else None"/>

                            <div t-attf-class=" btn btn-{{navClass}} d-flex align-items-center {{'ps-2 pe-3' if c.image_128 else 'px-4'}} fs-6 fw-normal {{ 'border-primary' if c.id == category.id else '' }}"
                                 t-att-for="c.id">
                                <div t-if="c.image_128"
                                     t-attf-style="background-image:url('data:image/png;base64,#{c.image_128}')"
                                     class="o_image_40_cover oe_img_bg o_bg_img_center rounded-3 me-3"
                                     t-att-alt="c.name "/>
                                <span t-field="c.name"/>
                            </div>
                        </t>
                    </li>
                </ul>
            </div>
        </xpath>

    </template>

    <!-- Add class in container layout -->
    <template id="shop_layout_custom_class" name="shop layout container class"
              inherit_id="website_sale.products">
        <xpath expr="//div[hasclass('oe_website_sale')]" position="attributes">
            <attribute name="class">oe_website_sale pt-2 shop_layout_custom_section</attribute>
        </xpath>
    </template>
</odoo>